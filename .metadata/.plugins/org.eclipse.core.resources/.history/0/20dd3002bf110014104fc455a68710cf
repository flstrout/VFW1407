// Fred L. Strout
// VFW-1 ~ 1407
// Project 3 - Image Gallery
// Created On: 7/20/2014

/*Ti.UI.setBackgroundColor("#000");

var mainWindow = Ti.UI.createWindow({
	title: "Main",
	backgroundColor: "#000",
	backgroundImage: "diamondplate.jpg",
	backgroundRepeat: true
});

var navWindow = Ti.UI.iOS.createNavigationWindow({
	window: mainWindow
});

var buttonOpenGallery = Ti.UI.createView({
	backgroundColor: "#0f0",
	borderRadius: 7,
	borderWidth: 1,
	borderColor: "#333",
	height: 85,
	width: 250,
	align: "center"
});

var labelOpenGallery = Ti.UI.createLabel({
	text: "Open Gallery",
	font: {fontSize:24, fontFamily:"Arial", fontWeight:"bold"},
	color: "#000",
	alignText: "center"
});

var openGallery = function(){
	var pWidth = Ti.Platform.displayCaps.platformWidth;
	var pHeight = Ti.Platform.displayCaps.platformHeight;
	var itemCount = 15;
	var rowCount = 3;
	var margin = 10;
	var trueCanvasWidth = pWidth-((rowCount+1)*margin);
	var size = trueCanvasWidth/rowCount;
	
	var galleryWindow = Ti.UI.createWindow({
		title: "Gallery",
		backgroundColor: "#000",
		backgroundImage: "diamondplate.jpg",
		backgroundRepeat: true
	});
	
	var buttonOpenImage = Ti.UI.createView({
		backgroundColor: "#0f0",
		borderRadius: 7,
		borderWidth: 1,
		borderColor: "#333",
		height: 85,
		width: 250,
		align: "center"
	});
	galleryWindow.add(buttonOpenImage);
	buttonOpenImage.addEventListener("click", openImage);
	//var navWindow2 = Ti.UI.iOS.createNavigationWindow({
		//window: galleryWindow
	//});
	navWindow.openWindow(galleryWindow);
};
 var openImage = function(){
 	var imageWindow = Ti.UI.createWindow({
		title: "Image",
		backgroundColor: "#000",
		backgroundImage: "diamondplate.jpg",
		backgroundRepeat: true
	});
	navWindow.openWindow(imageWindow);
 };
 
buttonOpenGallery.add(labelOpenGallery);
buttonOpenGallery.addEventListener("click", openGallery);
mainWindow.add(buttonOpenGallery);
navWindow.open();*/
var gallery = Ti.Filesystem.getFile(Ti.Filesystem.resourcesDirectory, "images");
var myImages = gallery.getDirectoryListing();
var i = 0;
var j = myImages.length;

var myWindow = Ti.UI.createWindow();
var viewImage = Ti.UI.createImageView({
	image: myImages[i]
});

var nextData = function(){
	if(i === (j-1)){
		i = 0;
		viewImage.image = myImages[i];
	}
	else{
		i++;
		viewImage.image = myImages[i];
	};
	
};

var next = Ti.UI.createLabel({
	text: "Next",
	backgroundColor: "#fff",
	font: {fontSize: 20, fontFamily: "Arial", fontWeight: "bold"},
	color: "#000",
	right: 10,
	width: "35%",
	height: 35,
	alignText: "center",
	top: Ti.Platform.displayCaps.platformHeight - 50
});
//next.addEventListener(nextData);
myWindow.add(next);

var previousData = function(){
	if(i === 0){
		i = (j-1);
		viewImage.image = myImages[i];
	}
	else{
		i--;
		viewImage.image = myImages[i];
	};
};

var previous = Ti.UI.createLabel({
	text: "Previous",
	backgroundColor: "#fff",
	font: {fontSize: 20, fontFamily: "Arial", fontWeight: "bold"},
	color: "#000",
	left: 10,
	width: "35%",
	height: 35,
	alignText: "center",
	top: Ti.Platform.displayCaps.platformHeight - 50
});
//previous.addEventListener(previousData);
myWindow.add(previous);

next.addEventListener("click", nextData);
previous.addEventListener("click", previousData);
myWindow.add(viewImage);
myWindow.open();
